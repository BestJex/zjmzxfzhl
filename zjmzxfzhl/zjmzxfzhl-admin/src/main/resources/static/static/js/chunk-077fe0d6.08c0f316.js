(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-077fe0d6"],{"333d":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[n("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},a=[];n("c5f6");Math.easeInOutQuad=function(e,t,n,s){return e/=s/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function i(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function o(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(e,t,n){var s=o(),a=e-s,l=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=l;var o=Math.easeInOutQuad(c,s,a,t);i(o),c<t?r(e):n&&"function"===typeof n&&n()};u()}var c={name:"Pagination",props:{total:{required:!0,type:Number},current:{type:Number,default:1},size:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.current},set:function(e){this.$emit("update:current",e)}},pageSize:{get:function(){return this.size},set:function(e){this.$emit("update:size",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{current:this.currentPage,size:e}),this.autoScroll&&l(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{current:e,size:this.pageSize}),this.autoScroll&&l(0,800)}}},u=c,d=(n("c591"),n("2877")),p=Object(d["a"])(u,s,a,!1,null,"985e5880",null);t["default"]=p.exports},3579:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"查看详情",visible:e.dialogProcessDetailVisibleInChild,fullscreen:""},on:{"update:visible":function(t){e.dialogProcessDetailVisibleInChild=t}}},[n("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"过程意见",name:"comments"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.comments,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}}},[n("el-table-column",{attrs:{label:"任务节点",prop:"taskName",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.taskName))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作类型",prop:"typeDesc",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.typeDesc))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"参与人",prop:"userName",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.userName))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"时间",prop:"time",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.time))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"意见",prop:"fullMessage",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.fullMessage))])]}}])})],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"流程表单",name:"processIntanceForm"}},[e.generateStartFormVisible?n("div",[n("fm-generate-form",{ref:"generateStartForm",attrs:{data:e.startFormJson,value:e.variables}})],1):e._e(),e._v(" "),e.showBusinessKey?n("el-form",{attrs:{"label-width":"100px"}},[n("el-form-item",{attrs:{label:"业务主键Key:"}},[n("el-input",{attrs:{disabled:""},model:{value:e.businessKey,callback:function(t){e.businessKey=t},expression:"businessKey"}})],1)],1):e._e(),e._v(" "),e.generateStartFormVisible||e.showBusinessKey?e._e():n("div",[e._v("\n                无\n            ")])],1),e._v(" "),n("el-tab-pane",{attrs:{label:"流程图",name:"processIntanceImage"}},[n("el-scrollbar",[n("img",{attrs:{src:e.imagePath,alt:"流程图"}})])],1)],1)],1)},a=[],r=(n("7f7f"),n("0fea")),i=n("5f87"),o={name:"ProcessDetail",props:{visible:{type:Boolean,default:function(){return!1}},processInstanceId:{type:String,default:function(){return""}}},computed:{dialogProcessDetailVisibleInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},data:function(){return{activeName:"comments",comments:[],imagePath:"",isShowProcessInstanceForm:!1,generateStartFormVisible:!1,startFormJson:void 0,variables:void 0,showBusinessKey:!1,businessKey:void 0}},created:function(){this.init()},methods:{init:function(){this.listComments()},handleClick:function(e,t){"processIntanceForm"==e.name?this.showProcessInstanceForm():"processIntanceImage"==e.name&&this.showImage()},showProcessInstanceForm:function(){var e=this;this.isShowProcessInstanceForm||Object(r["c"])("/flowable/processInstance/formData",{processInstanceId:this.processInstanceId}).then((function(t){var n=t.data;e.showBusinessKey=n.showBusinessKey,e.businessKey=n.businessKey,n&&n.renderedStartForm&&(e.startFormJson=JSON.parse(n.renderedStartForm),e.variables=JSON.parse(n.variables.processInstanceFormData),e.generateStartFormVisible=!0),e.isShowProcessInstanceForm=!0}))},listComments:function(){var e=this;Object(r["c"])("/flowable/processInstance/comments",{processInstanceId:this.processInstanceId}).then((function(t){var n=t.data;e.comments=n}))},showImage:function(){this.imagePath||(this.imagePath="".concat("/zjmzxfzhl")+"/flowable/processInstanceImage?processInstanceId="+this.processInstanceId+"&access_token="+Object(i["a"])()+"&time="+new Date)}}},l=o,c=n("2877"),u=Object(c["a"])(l,s,a,!1,null,null,null);t["default"]=u.exports},"5dbc":function(e,t,n){var s=n("d3f4"),a=n("8b97").set;e.exports=function(e,t,n){var r,i=t.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&s(r)&&a&&a(e,r),e}},"879c":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程实例ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceId,callback:function(t){e.$set(e.listQuery,"processInstanceId",t)},expression:"listQuery.processInstanceId"}}),e._v(" "),n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"任务名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskName,callback:function(t){e.$set(e.listQuery,"taskName",t)},expression:"listQuery.taskName"}}),e._v(" "),n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"业务主键Key"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceBusinessKey,callback:function(t){e.$set(e.listQuery,"processInstanceBusinessKey",t)},expression:"listQuery.processInstanceBusinessKey"}}),e._v(" "),n("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"创建时间开始",type:"datetime"},model:{value:e.listQuery.taskCreatedAfter,callback:function(t){e.$set(e.listQuery,"taskCreatedAfter",t)},expression:"listQuery.taskCreatedAfter"}}),e._v(" "),n("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"创建时间结束",type:"datetime"},model:{value:e.listQuery.taskCreatedBefore,callback:function(t){e.$set(e.listQuery,"taskCreatedBefore",t)},expression:"listQuery.taskCreatedBefore"}}),e._v(" "),n("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"完成时间开始",type:"datetime"},model:{value:e.listQuery.taskCompletedAfter,callback:function(t){e.$set(e.listQuery,"taskCompletedAfter",t)},expression:"listQuery.taskCompletedAfter"}}),e._v(" "),n("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"完成时间结束",type:"datetime"},model:{value:e.listQuery.taskCompletedBefore,callback:function(t){e.$set(e.listQuery,"taskCompletedBefore",t)},expression:"listQuery.taskCompletedBefore"}}),e._v(" "),n("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程已完成"},model:{value:e.listQuery.processFinished,callback:function(t){e.$set(e.listQuery,"processFinished",t)},expression:"listQuery.processFinished"}},e._l(e.dicts.trueOrFalse,(function(e,t){return n("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1),e._v(" "),n("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[n("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n            "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1),e._v(" "),n("el-table",{staticStyle:{width:"99%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}}},[n("el-table-column",{attrs:{label:"流程实例名称",prop:"processInstanceName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.processInstanceName))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"任务名称",prop:"name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"开始时间",prop:"createTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.createTime))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"完成时间",prop:"endTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.endTime))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"工作耗时",prop:"workTimeInMillis",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.workTimeInMillis))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"总耗时",prop:"durationInMillis",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.durationInMillis))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"所有人",prop:"owner",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.owner))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"执行人",prop:"assignee",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.assignee))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[n("el-dropdown",[n("span",{staticClass:"el-dropdown-link"},[e._v("操作"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(s.processInstanceId)}}},[e._v("查看详情\n                        ")])],1)],1)]}}])})],1),e._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e._v(" "),e.dialogViewVisible?n("process-detail",{attrs:{visible:e.dialogViewVisible,processInstanceId:e.processInstanceId},on:{"update:visible":function(t){e.dialogViewVisible=t}}}):e._e()],1)},a=[],r=n("333d"),i=n("0fea"),o=n("3579"),l={name:"FlowableTaskDone",components:{ProcessDetail:o["default"],Pagination:r["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskCreatedAfter:void 0,taskCreatedBefore:void 0},formJson:void 0,processInstanceId:"",dialogViewVisible:!1}},beforeCreate:function(){var e=this;this.getDicts("trueOrFalse").then((function(t){var n=t.data;e.dicts=n}))},created:function(){this.list()},methods:{list:function(){var e=this;Object(i["c"])("/flowable/task/listDone",this.listQuery).then((function(t){var n=t.data;e.records=n.records,e.total=n.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskCreatedAfter:void 0,taskCreatedBefore:void 0},this.list()},btnView:function(e){this.processInstanceId=e,this.dialogViewVisible=!0}}},c=l,u=n("2877"),d=Object(u["a"])(c,s,a,!1,null,null,null);t["default"]=d.exports},"8b97":function(e,t,n){var s=n("d3f4"),a=n("cb7c"),r=function(e,t){if(a(e),!s(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,s){try{s=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),s(e,[]),t=!(e instanceof Array)}catch(a){t=!0}return function(e,n){return r(e,n),t?e.__proto__=n:s(e,n),e}}({},!1):void 0),check:r}},aa77:function(e,t,n){var s=n("5ca1"),a=n("be13"),r=n("79e5"),i=n("fdef"),o="["+i+"]",l="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(e,t,n){var a={},o=r((function(){return!!i[e]()||l[e]()!=l})),c=a[e]=o?t(p):i[e];n&&(a[n]=c),s(s.P+s.F*o,"String",a)},p=d.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},c591:function(e,t,n){"use strict";var s=n("d12c"),a=n.n(s);a.a},c5f6:function(e,t,n){"use strict";var s=n("7726"),a=n("69a8"),r=n("2d95"),i=n("5dbc"),o=n("6a99"),l=n("79e5"),c=n("9093").f,u=n("11e9").f,d=n("86cc").f,p=n("aa77").trim,f="Number",m=s[f],y=m,v=m.prototype,b=r(n("2aeb")(v))==f,h="trim"in String.prototype,_=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=h?t.trim():p(t,3);var n,s,a,r=t.charCodeAt(0);if(43===r||45===r){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:s=2,a=49;break;case 79:case 111:s=8,a=55;break;default:return+t}for(var i,l=t.slice(2),c=0,u=l.length;c<u;c++)if(i=l.charCodeAt(c),i<48||i>a)return NaN;return parseInt(l,s)}}return+t};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof m&&(b?l((function(){v.valueOf.call(n)})):r(n)!=f)?i(new y(_(t)),n,m):_(t)};for(var g,w=n("9e1e")?c(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;w.length>k;k++)a(y,g=w[k])&&!a(m,g)&&d(m,g,u(y,g));m.prototype=v,v.constructor=m,n("2aba")(s,f,m)}},d12c:function(e,t,n){},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);